



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-3.1.0">
    
    
      
        <title>Usage - CASPR</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.11e41852.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/application-palette.22915126.css">
      
      
        
        
        <meta name="theme-color" content="#4caf50">
      
    
    
      <script src="../assets/javascripts/modernizr.20ef595d.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="green" data-md-color-accent="indigo">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#caspr-usage" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href=".." title="CASPR" class="md-header-nav__button md-logo">
          
            <i class="md-icon">all_inclusive</i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                CASPR
              </span>
              <span class="md-header-nav__topic">
                Usage
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/judithbergada/CASPR/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      judithbergada/CASPR
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href=".." title="CASPR" class="md-nav__button md-logo">
      
        <i class="md-icon">all_inclusive</i>
      
    </a>
    CASPR
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/judithbergada/CASPR/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      judithbergada/CASPR
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../installation/" title="Installation" class="md-nav__link">
      Installation
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../tutorial/" title="Tutorial" class="md-nav__link">
      Tutorial
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Usage
      </label>
    
    <a href="./" title="Usage" class="md-nav__link md-nav__link--active">
      Usage
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#input-parameters" title="Input parameters" class="md-nav__link">
    Input parameters
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#outputs" title="Outputs" class="md-nav__link">
    Outputs
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#input-parameters" title="Input parameters" class="md-nav__link">
    Input parameters
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#outputs" title="Outputs" class="md-nav__link">
    Outputs
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/judithbergada/CASPR/tree/master/docs/pages/usage.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="caspr-usage">CASPR Usage</h1>
<h2 id="input-parameters">Input parameters</h2>
<p>For a complete analysis of CRISPR screens, CASPR requires at least three or
four parameters, depending on whether the library is composed of sgRNAs or pgRNAs.
These are as follows:</p>
<ul>
<li>
<p><code>-f</code> or <code>--fastq-forward</code>: sequencing files that contain the forward reads,
for which fastq and fastq.gz formats are accepted. Files must be separated by
commas and written in quotes. <br />
Example: "ctrl1_1.fastq, d1_forward.fq.gz".</p>
</li>
<li>
<p><code>-r</code> or <code>--fastq-reverse</code>: sequencing files that contain the reverse reads,
only needed to handle pgRNA libraries. If not provided, sgRNAs will be
considered. The accepted formats are fastq and fastq.gz. All files
must be separated by commas and written in quotes, and the order of
the samples must be the same as used in <code>-f</code>.</p>
</li>
</ul>
<p>Example: "ctrl1_2.fastq, d1_reverse.fq.gz".</p>
<ul>
<li>
<p><code>-l</code> or <code>--library</code>: text file with 3 or 4 columns, without header.
Column1 shows the IDs of the guide-RNAs. Column2 shows the
targeted genes. Column3 contains the sequence of the 1st sgRNA. Column4 contains
the sequence of the 2nd sgRNA, only if pgRNAs are used.</p>
</li>
<li>
<p><code>-e</code> or <code>--exper-design</code>: text file showing the experimental design of the
CRISPR screen. It has three columns, without header. Column1 contains the
different samples in the analysis, named according to their forward fastq files.
Column2 shows the replicates, and each replicate is represented as an integer.
Column3 contains the condition of each sample, "control" or "treated", followed
by the number of test.
            <div class="codehilite"><pre><span></span>    Example:    ctr1.fastq      1  control1
                ctr2.fastq      2  control1
                day30_1.fastq   1  treated1
                day30_2.fastq   2  treated1
                ctr3.fastq      3  control2
                ctr4.fastq      4  control2
                day30_3.fastq   3  treated2
                day30_4.fastq   4  treated2
    --&gt; Test 1: ctr1 &amp; ctr2 vs day30_1 &amp; day30_2
    --&gt; Test 2: ctr3 &amp; ctr4 vs day30_3 &amp; day30_4
</pre></div></p>
</li>
</ul>
<h2 id="outputs">Outputs</h2>
<p>After completing the analysis of a CRISPR screen, CASPR generates a folder
named <code>outputs</code>. All the results and final graphs can be found there.
They are as follows:</p>
<ul>
<li>
<p><strong>Alignment_statistics.pdf</strong>: It contains a bar-plot that shows, for each sample,
the percentage of uniquely mapped reads, unmapped reads,
and reads that were mapped to more than one guide-RNA.
If flag <code>-i</code> was used, it also displays some pie charts with additional
information. Please, check documentation of input parameter <code>-i</code> for more details.</p>
</li>
<li>
<p><strong>Trimming_statistics.pdf</strong>: It contains multiple histograms and a bar-plot.
The histograms show, for each of the samples, the positions in which the
adapters were found within the reads. The bar-plot indicates the percentage of
reads that could be trimmed in each sample, and the total of number of
reads per sample.</p>
</li>
<li>
<p><strong>results_MAGeCK_{{idx}}.gene_summary.txt</strong>: It is a table with the p-values
and FDRs of all genes computed by MAGeCK. There is one file per test
that has been carried out.</p>
</li>
<li>
<p><strong>results_PBNPA_{{idx}}_summary.txt</strong>: It is a table with the p-values and
FDRs of all genes computed by PBNPA. There is one file per test
that has been carried out.</p>
</li>
<li>
<p><strong>comb_result_{{idx}}.txt</strong>: It is a table with the Fisher combined p-values of
MAGeCK and PBNPA, along with the corresponding FDRs. There is one file
per test that has been carried out.</p>
</li>
<li>
<p><strong>Selected_genes_MAGeCK.pdf</strong>: It contains two quantile-quantile plots
per test. QQ-plots are based on the p-values computed by MAGeCK for the
positive and negative selection.</p>
</li>
<li>
<p><strong>Selected_genes_PBNPA.pdf</strong> : It contains two quantile-quantile plots
per test. QQ-plots are based on the p-values computed by PBNPA for the
positive and negative selection.</p>
</li>
<li>
<p><strong>Comp_MAGeCK_PBNPA.pdf</strong>: It contains one Venn-diagram per test,
showing the overlap between hits detected by MAGeCK and PBNPA.</p>
</li>
<li>
<p><strong>Log_counts.pdf</strong>: It contains five plots per test: the first one shows
the log2-fold-change of all sgRNAs or pgRNAs; the second one compares the
number of read counts per guide of untreated versus treated samples;
the third one displays the cumulative counts of all samples; the fourth and
fifth graphs are volcano plots showing the log2-fold change of all genes versus
the Fisher combined p-values of MAGeCK and PBNPA. In the first volcano plot,
genes detected as hits either by MAGeCK or PBNPA are colored. In the second
volcano plot, all genes classified as hits according to the Fisher combined
statistics are colored.</p>
</li>
<li>
<p><strong>table.counts.txt</strong>: It is a table with the quantification of the sgRNAs or
pgRNAs. First and second columns correspond to the IDs of the guides and the
targeted genes, respectively. The rest of the columns show the number of
read counts per guide of the different samples
-there is one column per sample-.</p>
</li>
<li>
<p><strong>inputs.txt</strong>: It is a text file with information of the input parameters
that have been used by CASPR to get the outputs provided.</p>
</li>
</ul>
<p>In <a href="https://judithbergada.github.io/CASPR/tutorial/">CASPR-tutorial</a> users can
find examples of the output figures that should be expected.</p>
<p>Furthermore, CASPR generates three additional folders:</p>
<ul>
<li>
<p><code>qualitycontrol</code>: It shows the quality control of the reads.</p>
</li>
<li>
<p><code>genome</code>: It contains the indexed library of guide-RNAs, which is needed
for the mapping process.</p>
</li>
<li>
<p><code>intermediate</code>: It contains intermediate files such as the trimmed reads,
the unmapped reads, the trimming and mapping statistics used to generate output
figures, and other files created by MAGeCK and PBNPA during the analysis. By
default, when flag <code>k</code> is not used, this folder is removed.</p>
</li>
</ul>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../tutorial/" title="Tutorial" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Tutorial
              </span>
            </div>
          </a>
        
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2018 Judith Bergad√† Pijuan
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
  <div class="md-footer-social">
    <link rel="stylesheet" href="../assets/fonts/font-awesome.css">
    
      <a href="https://github.com/judithbergada/CASPR" class="md-footer-social__link fa fa-github-alt"></a>
    
  </div>

      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.9e1f3b71.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:".."}})</script>
      
    
    
      
    
  </body>
</html>